{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\UWE\\\\FYP\\\\AutoBudgetApplication\\\\pages\\\\Calendar\\\\CreateTaskPage.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { connect } from 'dva';\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport moment from 'moment';\nimport Constants from 'expo-constants';\nimport uuid from 'uuid';\nimport { createMaterialTopTabNavigator } from '@react-navigation/material-top-tabs';\nimport ExpensePage from \"./ExpensePage\";\nimport IncomePage from \"./IncomePage\";\nvar Tab = createMaterialTopTabNavigator();\n\nvar CreateTask = function (_React$PureComponent) {\n  _inherits(CreateTask, _React$PureComponent);\n\n  var _super = _createSuper(CreateTask);\n\n  function CreateTask() {\n    var _this;\n\n    _classCallCheck(this, CreateTask);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      selectedDay: _defineProperty({}, moment().format('YYYY') + \"-\" + moment().format('MM') + \"-\" + moment().format('DD'), {\n        selected: true,\n        selectedColor: '#2E66E7'\n      }),\n      currentDay: moment().format(),\n      taskText: '',\n      notesText: '',\n      keyboardHeight: 0,\n      visibleHeight: Dimensions.get('window').height,\n      alarmTime: moment().format(),\n      isDateTimePickerVisible: false,\n      timeType: '',\n      creatTodo: {},\n      createEventAsyncRes: ''\n    };\n\n    _this._keyboardDidShow = function (e) {\n      _this.setState({\n        keyboardHeight: e.endCoordinates.height,\n        visibleHeight: Dimensions.get('window').height - e.endCoordinates.height - 30\n      });\n    };\n\n    _this._keyboardDidHide = function () {\n      _this.setState({\n        visibleHeight: Dimensions.get('window').height\n      });\n    };\n\n    _this._showDateTimePicker = function () {\n      return _this.setState({\n        isDateTimePickerVisible: true\n      });\n    };\n\n    _this._hideDateTimePicker = function () {\n      return _this.setState({\n        isDateTimePickerVisible: false\n      });\n    };\n\n    _this._handleCreateEventData = function _callee(value) {\n      var _assertThisInitialize, _assertThisInitialize2, taskText, notesText, _assertThisInitialize3, navigation, route, _route$params, currentDate, updateCurrentTask, createTodo;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _assertThisInitialize = _assertThisInitialized(_this), _assertThisInitialize2 = _assertThisInitialize.state, taskText = _assertThisInitialize2.taskText, notesText = _assertThisInitialize2.notesText, _assertThisInitialize3 = _assertThisInitialize.props, navigation = _assertThisInitialize3.navigation, route = _assertThisInitialize3.route;\n              _route$params = route.params, currentDate = _route$params.currentDate, updateCurrentTask = _route$params.updateCurrentTask;\n              createTodo = {\n                key: uuid(),\n                date: currentDate,\n                todoList: [{\n                  key: uuid(),\n                  title: taskText,\n                  notes: notesText,\n                  color: \"rgb(\" + Math.floor(Math.random() * Math.floor(256)) + \",\" + Math.floor(Math.random() * Math.floor(256)) + \",\" + Math.floor(Math.random() * Math.floor(256)) + \")\"\n                }],\n                markedDot: {\n                  date: currentDate,\n                  dots: [{\n                    key: uuid(),\n                    color: '#2E66E7',\n                    selectedDotColor: '#2E66E7'\n                  }]\n                }\n              };\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(value.updateTodo(createTodo));\n\n            case 5:\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(updateCurrentTask(currentDate));\n\n            case 7:\n              navigation.navigate('Calendar');\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    return _this;\n  }\n\n  _createClass(CreateTask, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      Keyboard.removeListener('keyboardDidShow', this._keyboardDidShow);\n      Keyboard.removeListener('keyboardDidHide', this._keyboardDidHide);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Tab.Navigator, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 7\n        }\n      }, React.createElement(Tab.Screen, {\n        name: \"Income\",\n        component: IncomePage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }\n      }), React.createElement(Tab.Screen, {\n        name: \"Expense\",\n        component: ExpensePage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return CreateTask;\n}(React.PureComponent);\n\nexport default connect(function (state) {\n  return {\n    loading: state.loading,\n    effects: state.loading.effects\n  };\n})(CreateTask);","map":{"version":3,"sources":["D:/UWE/FYP/AutoBudgetApplication/pages/Calendar/CreateTaskPage.js"],"names":["React","connect","moment","Constants","uuid","createMaterialTopTabNavigator","ExpensePage","IncomePage","Tab","CreateTask","state","selectedDay","format","selected","selectedColor","currentDay","taskText","notesText","keyboardHeight","visibleHeight","Dimensions","get","height","alarmTime","isDateTimePickerVisible","timeType","creatTodo","createEventAsyncRes","_keyboardDidShow","e","setState","endCoordinates","_keyboardDidHide","_showDateTimePicker","_hideDateTimePicker","_handleCreateEventData","value","props","navigation","route","params","currentDate","updateCurrentTask","createTodo","key","date","todoList","title","notes","color","Math","floor","random","markedDot","dots","selectedDotColor","updateTodo","navigate","Keyboard","removeListener","PureComponent","loading","effects"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'dva';\r\nimport {\r\n  Dimensions,\r\n  Keyboard,\r\n  StyleSheet,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport Constants from 'expo-constants';\r\nimport uuid from 'uuid';\r\nimport { createMaterialTopTabNavigator } from '@react-navigation/material-top-tabs';\r\nimport ExpensePage from './ExpensePage';\r\nimport IncomePage from './IncomePage';\r\n\r\nconst Tab = createMaterialTopTabNavigator();\r\nclass CreateTask extends React.PureComponent {\r\n  state = {\r\n    selectedDay: {\r\n      [`${moment().format('YYYY')}-${moment().format('MM')}-${moment().format(\r\n        'DD'\r\n      )}`]: {\r\n        selected: true,\r\n        selectedColor: '#2E66E7',\r\n      },\r\n    },\r\n    currentDay: moment().format(),\r\n    taskText: '',\r\n    notesText: '',\r\n    keyboardHeight: 0,\r\n    visibleHeight: Dimensions.get('window').height,\r\n    alarmTime: moment().format(),\r\n    isDateTimePickerVisible: false,\r\n    timeType: '',\r\n    creatTodo: {},\r\n    createEventAsyncRes: '',\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    Keyboard.removeListener('keyboardDidShow', this._keyboardDidShow);\r\n    Keyboard.removeListener('keyboardDidHide', this._keyboardDidHide);\r\n  }\r\n\r\n  _keyboardDidShow = e => {\r\n    this.setState({\r\n      keyboardHeight: e.endCoordinates.height,\r\n      visibleHeight:\r\n        Dimensions.get('window').height - e.endCoordinates.height - 30,\r\n    });\r\n  };\r\n\r\n  _keyboardDidHide = () => {\r\n    this.setState({\r\n      visibleHeight: Dimensions.get('window').height,\r\n    });\r\n  };\r\n  _showDateTimePicker = () => this.setState({ isDateTimePickerVisible: true });\r\n\r\n  _hideDateTimePicker = () => this.setState({ isDateTimePickerVisible: false });\r\n\r\n  _handleCreateEventData = async value => {\r\n    const {\r\n      state: {\r\n        taskText,\r\n        notesText,\r\n      },\r\n      props: { navigation, route },\r\n    } = this;\r\n    const { currentDate, updateCurrentTask } = route.params;\r\n    const createTodo = {\r\n      key: uuid(),\r\n      date: currentDate,\r\n      todoList: [\r\n        {\r\n          key: uuid(),\r\n          title: taskText,\r\n          notes: notesText,\r\n          color: `rgb(${Math.floor(\r\n            Math.random() * Math.floor(256)\r\n          )},${Math.floor(Math.random() * Math.floor(256))},${Math.floor(\r\n            Math.random() * Math.floor(256)\r\n          )})`,\r\n        },\r\n      ],\r\n      markedDot: {\r\n        date: currentDate,\r\n        dots: [\r\n          {\r\n            key: uuid(),\r\n            color: '#2E66E7',\r\n            selectedDotColor: '#2E66E7',\r\n          },\r\n        ],\r\n      },\r\n    };\r\n    await value.updateTodo(createTodo);\r\n    await updateCurrentTask(currentDate);\r\n    navigation.navigate('Calendar');\r\n  };\r\n\r\n  // Local path to file on the device\r\n  render() {\r\n    return (\r\n      <Tab.Navigator>\r\n        <Tab.Screen name=\"Income\" component={IncomePage} />\r\n        <Tab.Screen name=\"Expense\" component={ExpensePage} />\r\n      </Tab.Navigator>\r\n    )\r\n  }\r\n}\r\nexport default connect(state => ({\r\n  loading: state.loading,\r\n  effects: state.loading.effects\r\n}))(CreateTask);"]},"metadata":{},"sourceType":"module"}
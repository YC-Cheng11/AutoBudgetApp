{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\UWE\\\\FYP\\\\AutoBudgetApplication\\\\App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport dva, { connect } from 'dva';\nimport createLoading from 'dva-loading';\nimport { Router, Route, Switch, routerRedux } from 'dva/router';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { createMemoryHistory } from 'history';\n\nvar delay = function delay(time) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, time);\n  });\n};\n\nvar app = dva(_objectSpread(_objectSpread({}, createLoading()), {}, {\n  history: createMemoryHistory(),\n  initialState: {}\n}));\napp.model({\n  namespace: 'user',\n  state: {},\n  reducers: {},\n  effects: {\n    login: _regeneratorRuntime.mark(function login(action, _ref) {\n      var put, call;\n      return _regeneratorRuntime.wrap(function login$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              put = _ref.put, call = _ref.call;\n              _context.next = 3;\n              return call(delay, 1000);\n\n            case 3:\n              _context.next = 5;\n              return put(routerRedux.push({\n                pathname: '/home'\n              }));\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, login);\n    })\n  },\n  subscriptions: {\n    setup: function setup(_ref2) {\n      var history = _ref2.history,\n          dispatch = _ref2.dispatch;\n      history.listen(function (_ref3) {\n        var pathname = _ref3.pathname;\n\n        if (pathname === '/home') {\n          alert('logged in');\n        }\n      });\n    }\n  }\n});\nvar LoginPage = connect(function (_ref4) {\n  var loading = _ref4.loading;\n  return {\n    loading: loading\n  };\n})(function (_ref5) {\n  var dispatch = _ref5.dispatch,\n      effects = _ref5.loading.effects;\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, effects['user/login'] ? React.createElement(ActivityIndicator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }) : React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return dispatch({\n        type: 'user/login'\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 24\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Login\")));\n});\n\nvar HomePage = function HomePage() {\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 24\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \"Welcome\"));\n};\n\napp.router(function (_ref6) {\n  var history = _ref6.history;\n  return React.createElement(Router, {\n    history: history,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 3\n    }\n  }, React.createElement(Switch, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, React.createElement(Route, {\n    path: \"/\",\n    exact: true,\n    component: LoginPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), React.createElement(Route, {\n    path: \"/home\",\n    exact: true,\n    component: HomePage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  })));\n});\nvar App = app.start();\nexport default App;","map":{"version":3,"sources":["D:/UWE/FYP/AutoBudgetApplication/App.js"],"names":["React","dva","connect","createLoading","Router","Route","Switch","routerRedux","createMemoryHistory","delay","time","Promise","resolve","setTimeout","app","history","initialState","model","namespace","state","reducers","effects","login","action","put","call","push","pathname","subscriptions","setup","dispatch","listen","alert","LoginPage","loading","flex","flexDirection","alignItems","justifyContent","type","fontSize","HomePage","router","App","start"],"mappings":"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","sourcesContent":["import React from 'react';\nimport dva, { connect } from 'dva';\nimport createLoading from 'dva-loading';\nimport { Router, Route, Switch, routerRedux } from 'dva/router';\nimport { View, Text, TouchableOpacity, ActivityIndicator } from 'react-native';\nimport { createMemoryHistory } from 'history';\n\nconst delay = time => new Promise(resolve => setTimeout(resolve, time));\n\nconst app = dva({\n  ...createLoading(),\n  history: createMemoryHistory(),  // Trick !!\n  initialState: {}\n});\n\napp.model({\n  namespace: 'user',\n  state: {},\n  reducers: {},\n  effects: {\n    *login ( action, { put, call } ) {\n      yield call(delay, 1000);\n      yield put(routerRedux.push({ pathname: '/home' }));\n    }\n  },\n  subscriptions: {\n    // You can use history object in subscriptions.\n    setup({ history, dispatch }) {\n      history.listen(({ pathname }) => {\n        if (pathname === '/home') { alert('logged in'); }\n      });\n    }\n  }\n});\n\nconst LoginPage = connect(({ loading }) => ({ loading }))(({ dispatch, loading: { effects } }) => {\n  return (\n    <View style={{ flex: 1, flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n      {\n        effects['user/login']\n        ? <ActivityIndicator />\n        : <TouchableOpacity onPress={() => dispatch({ type: 'user/login' })}>\n            <Text style={{ fontSize: 24 }}>Login</Text>\n          </TouchableOpacity>\n      }\n    </View>\n  );\n});\n\nconst HomePage = () => {\n  return (\n    <View style={{ flex: 1, flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n      <Text style={{ fontSize: 24 }}>Welcome</Text>\n    </View>\n  );\n};\n\napp.router(({ history }) => (\n  <Router history={history}>\n    <Switch>\n      <Route path=\"/\" exact component={LoginPage} />\n      <Route path=\"/home\" exact component={HomePage} />\n    </Switch>\n  </Router>\n));\n\nconst App = app.start();\n\nexport default App;"]},"metadata":{},"sourceType":"module"}